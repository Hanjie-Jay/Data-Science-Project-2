# 02242799 Data Science Project 2 (Version 1.0)

## Project Overview

The primary objectives in this project are to:

1. **Design a Fully Reproducible `R` Script** for analyzing earthquake activity, capable of determining the magnitude of completion, generating visualizations, and providing a simplistic summary of earthquake data, which was graciously provided by the Royal Dutch Meteorological Society. This data covers earthquake activities within the Netherlands.
2. **Generate a Concise, Two-Page Monthly Report** that neatly captures our data analysis findings. This report, created using an `Rmd` file, allows for straightforward updates and maintains reproducibility.
3. **Develop a Comprehensive Technical Guide** with `Rmd` to demonstrate how to store output values from a Markov Chain Monte Carlo (MCMC) simulation. Based on a reproducible simulation study utilizing `R`, this guide aims to aid users in selecting the most efficient approaches for their data analysis requirements.approaches to their data analysis needs.

## Dependencies and installation
This project is developed in `R` and depends on the following `R` packages:

- ggmap
- profvis
- microbenchmark
- here
- lubridate
- timechange
- forcats
- stringr
- dplyr
- purrr
- readr
- tidyr
- tibble
- ggplot2
- tidyverse

To install these packages, run the following command in `R` console:

```R
install.packages(c("ggmap", "profvis", "microbenchmark", "here", "lubridate", "timechange", "forcats", "stringr", "dplyr", "purrr", "readr", "tidyr", "tibble", "ggplot2", "tidyverse"))
```

## The version information about `R`, the OS and attached packages of this version are shown below:
```
R version 4.2.1 (2022-06-23)
Platform: aarch64-apple-darwin20 (64-bit)
Running under: macOS Ventura 13.3.1

Matrix products: default
LAPACK: /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/lib/libRlapack.dylib

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] ggmap_3.0.2          profvis_0.3.7        microbenchmark_1.4.9 here_1.0.1          
 [5] lubridate_1.9.0      timechange_0.1.1     forcats_0.5.2        stringr_1.5.0       
 [9] dplyr_1.0.10         purrr_1.0.1          readr_2.1.3          tidyr_1.3.0         
[13] tibble_3.1.8         ggplot2_3.4.0        tidyverse_1.3.2 
```

**NOTE:** For the successful reproduction of this project, it is highly recommended to set the working directory to this project's file location. It is also suggested to utilise the same `R` and package versions as displayed above. You can verify the package version on your local machine by running `sessionInfo()` in the console.

## Project Structure with Discriptions

The project is organised as follows:

### [data/](/data/) folder

This directory contains the [raw/](/data/raw/) and [derived/](/data/derived/) subdirectories, housing all raw and derived data sets, respectively. The raw earthquake data is obtained from the society's API, whereas the derived data encompasses earthquake activity from the past 12 months, generated by the [Mon_rep_data_preprocess.R](/scr/Monthly_report/Mon_rep_data_preprocess.R) script.

### [outputs/](/outputs/) folder

This directory contains the output of 7 visualisation graphs generated using the `R` code in the [Monthly_report](/scr/Monthly_report/Mon_rep_mc_selection%26compare.R) folder with the [derived data](/data/derived/) and the `R` code in [Technical_guidance_on_MCMC](/scr/Technical_guidance_on_MCMC/). It also includes 4 `profvis` output files that describe the computation time of four different methods.

### [reports/](/outputs/) folder

This directory contains 2 folders. 

In the [monthly_summary](/reports/mothly_summary/) folder, there are 5 files. The [`monthly-summary.pdf`](/reports/mothly_summary/02242799-monthly-summary.pdf) and its source `.rmd` file [`monthly-summary.pdf`](/reports/mothly_summary/02242799-monthly-summary.Rmd) with the [reference](/reports/mothly_summary/references.bib) of the file use some of the [data visualization graphs](/outputs/) with corresponding analyses and can be fully autogenerated by running the `rmd` file. We also provide a `latex` version of the report for researchers who prefer to use `latex`.

In the [Guidance](/reports/Guidance/) folder, there are 2 files. The [storage-guide.pdf](/reports/Guidance/02242799-mcmc-storage-guide.pdf) contain the MCMC Style Guidance report which is generated by knitting the [storage-guide.Rmd](/reports/Guidance/02242799-mcmc-storage-guide.Rmd) file.

### [scr/](/scr/) folder

This directory contains 2 folders ([Monthly_report](/scr/Monthly_report/), and [Technical_guidance_on_MCMC](/scr/Technical_guidance_on_MCMC/)) with an [`R`](/scr/global_variables.R) file that contains the name of the raw dataset.

In the [Monthly_report](/scr/Monthly_report/) folder, there are two `R` files. The [Mon_rep_data_preprocess.R](scr/Monthly_report/Mon_rep_data_preprocess.R) file is used to filter the earthquake dataset for the last 12 months and save it to the [derived](data/derived/) folder. The [Mon_rep_mc_selection&compare.R](scr/Monthly_report/Mon_rep_mc_selection&compare.R) file is used to select the magnitude of completion ($m_c$) value, verify it, and create visualisations and summaries to compare earthquake activities.

In the [Technical_guidance_on_MCMC](scr/Technical_guidance_on_MCMC) folder, there is an `R` file that performs simulation studies for value assignment to dataframes, along with supporting statistics and graphs for illustration.

## Reproduction Guide

- To reproduce the project, start by setting your working directory to the root folder of this project.

- To generate a new monthly report, replace the existing earthquake dataset in the [raw](/data/raw/) directory (within the [data](/data) folder) with the new dataset. The new file should maintain the same filename format: 'YYYY-MM-DD_induced-earthquakes.csv'. Next, update the dataset name in the [`global_variables.R`](/scr/global_variables.R) file. The report will be automatically generated upon knitting the [monthly-summary.Rmd](/reports/monthly_summary/02242799-monthly-summary.Rmd) file. Please note, you may need to adjust the descriptive text in the [monthly-summary.Rmd](/reports/monthly_summary/02242799-monthly-summary.Rmd) file to better describe the changes specific to the new month's data. If your intention is solely to reproduce the existing study for January 2023, knitting the [monthly-summary.Rmd](/reports/monthly_summary/02242799-monthly-summary.Rmd) file should suffice.

- To carry out a new simulation study, you'll need to adjust the functions or values in the [simulation_study_with_visualisation.R](/scr/Technical_guidance_on_MCMC/simulation_study_with_visualisation.R) file. After making these changes, the report can be generated automatically by knitting the [mcmc-storage-guide.Rmd](reports/Guidance/02242799-mcmc-storage-guide.Rmd) file. Please be aware that you may need to modify the descriptive text in the [mcmc-storage-guide.Rmd](reports/Guidance/02242799-mcmc-storage-guide.Rmd) file to reflect the simulation results accurately. If you're only interested in reproducing the existing study in its current version, simply knit the [simulation_study_with_visualisation.R](/scr/Technical_guidance_on_MCMC/simulation_study_with_visualisation.R) file.

## Future Research Directions

- **Automated Data Analysis in Monthly Reports:** While we have managed to automate the generation of tables and visualizations for new datasets, writing the analysis still requires manual effort. As a future enhancement, we are exploring the implementation of advanced AI algorithms or leveraging existing APIs that can facilitate automated data analysis. The goal is to have an intelligent system that can provide insights into the data and integrate them seamlessly into the reports.

- **Intelligent Simulation Analysis in the Storage Guide:** Similar to the monthly reports, the analysis of simulation results in the storage guide still demands human intervention. To streamline this process, we are considering integrating sophisticated AI models capable of analyzing the results from our simulations. This would not only expedite the report generation process but also ensure a more standardized and comprehensive evaluation of the results, which can then be automatically included in the guide.


## Version Control and Updates

This section provides a historical account of different versions of the project, along with their key updates and enhancements.

### Version 1.0 (Initial Release)
**Release Date:** May 18, 2023

- **Developed an `R` script** for reproducible analysis of earthquake activity data from the Royal Dutch Meteorological Society.
- **Generated a two-page monthly report** via `Rmd` to succinctly present data analysis findings with easy updates and reproducibility.
- **Created a technical guide using `Rmd`** to detail the storing of MCMC simulation output values, supporting users in efficient data analysis.

## Author and Acknowledgments

This project was developed by CID: 02242799 as a part of the MATH70076 Data Science module, a component of the 2022-2023 coursework. Profound gratitude is extended to Dr. Zak Varty from Imperial College, whose insightful lectures on data science have been invaluable to the progression of this work. Additionally, we are immensely grateful to the Royal Dutch Meteorological Society for generously providing the earthquake activity data utilised in this project.